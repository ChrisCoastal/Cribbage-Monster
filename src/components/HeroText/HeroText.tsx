import React, { FC, useEffect } from 'react';

import anime from 'animejs';

type TailProps = {
  height: string;
  width: string;
  color?: string;
  className?: string;
};

const Tail: FC<TailProps> = ({ height, width, color = '#fff', className }) => {
  const headerText = (
    <g>
      <path
        d="M44.85,71.21h28.79l4.66,13.54h20.42L69.02,7.32H50.13L20.1,84.76h19.99L44.85,71.21z M50.32,55.71l9.11-25.84l8.89,25.84
		H50.32z"
      />
      <path
        d="M141.32,30.26c-5.55,0-10.06,1.5-13.54,4.5v-3.41h-19v53.4h19V55.71c0-2.91,0.69-5.11,2.07-6.61
		c1.38-1.49,3.31-2.24,5.79-2.24c1.31,0,2.49,0.2,3.55,0.6c1.05,0.4,1.87,0.93,2.46,1.58l11.03-14.74c-1.31-1.38-2.89-2.4-4.75-3.06
		S143.87,30.26,141.32,30.26z"
      />
      <path
        d="M207.5,76.89l-9.94-9.94c-1.6,1.82-3.4,3.17-5.41,4.04c-2,0.87-4.31,1.31-6.94,1.31c-2.77,0-5.1-0.55-6.99-1.64
		c-1.89-1.09-3.35-2.71-4.37-4.86c-0.25-0.52-0.46-1.06-0.64-1.63L210.67,64c0.36-1.46,0.6-2.75,0.71-3.88
		c0.11-1.13,0.16-2.24,0.16-3.33c0-5.17-1.18-9.77-3.55-13.82c-2.37-4.04-5.64-7.21-9.83-9.5c-4.19-2.29-8.97-3.44-14.36-3.44
		c-5.53,0-10.5,1.22-14.91,3.66c-4.41,2.44-7.88,5.75-10.43,9.94c-2.55,4.19-3.82,8.97-3.82,14.36c0,5.46,1.31,10.3,3.93,14.52
		c2.62,4.22,6.23,7.52,10.81,9.88c4.59,2.36,9.86,3.55,15.84,3.55c4.73,0,8.97-0.76,12.72-2.29
		C201.69,82.13,204.88,79.88,207.5,76.89z M177.79,45.44c1.75-1.16,3.82-1.75,6.23-1.75c2.33,0,4.26,0.51,5.79,1.53
		c1.53,1.02,2.69,2.49,3.5,4.42c0.26,0.63,0.47,1.35,0.66,2.1l-20.79,0.17c0.17-0.54,0.36-1.06,0.58-1.56
		C174.7,48.24,176.05,46.6,177.79,45.44z"
      />
      <polygon
        points="267.89,107.36 277.06,84.76 299.02,31.35 278.7,31.35 269.49,62.03 260.36,31.35 240.04,31.35 260.3,82.01 
		248.78,107.36 	"
      />
      <path
        d="M423.4,31.35h-19v30.91c0,2.18-0.64,3.93-1.91,5.24c-1.28,1.31-2.93,1.97-4.97,1.97c-1.38,0-2.58-0.29-3.6-0.87
		c-1.02-0.58-1.82-1.42-2.4-2.51c-0.58-1.09-0.87-2.36-0.87-3.82V31.35h-19v30.91c0,4.59,1.11,8.68,3.33,12.29
		c2.22,3.6,5.28,6.41,9.17,8.41c3.89,2,8.35,3,13.38,3c5.1,0,9.59-1,13.49-3c3.89-2,6.93-4.79,9.12-8.35
		c2.18-3.57,3.28-7.68,3.28-12.34V31.35z"
      />
      <path
        d="M491.33,83.99c1.73-0.77,3.24-1.74,4.59-2.87v3.64h18.68v-53.4h-18.68v3.56c-1.34-1.13-2.86-2.1-4.59-2.85
		c-2.77-1.2-5.83-1.8-9.17-1.8c-4.95,0-9.36,1.18-13.21,3.55c-3.86,2.37-6.88,5.66-9.07,9.88c-2.18,4.22-3.28,9.03-3.28,14.42
		c0,5.31,1.09,10.07,3.28,14.25c2.19,4.19,5.21,7.48,9.07,9.88c3.86,2.4,8.26,3.6,13.21,3.6C485.51,85.85,488.56,85.23,491.33,83.99
		z M477.13,63.62c-0.87-1.64-1.31-3.51-1.31-5.62c0-2.04,0.45-3.88,1.37-5.52c0.91-1.64,2.15-2.93,3.71-3.88
		c1.57-0.95,3.37-1.42,5.41-1.42c2.04,0,3.84,0.47,5.41,1.42c1.56,0.95,2.79,2.22,3.66,3.82c0.87,1.6,1.31,3.46,1.31,5.57
		c0,3.2-0.97,5.83-2.89,7.86c-1.93,2.04-4.46,3.06-7.59,3.06c-1.97,0-3.75-0.47-5.35-1.42C479.25,66.55,478.01,65.26,477.13,63.62z"
      />
      <polygon
        points="66.23,153.92 39.86,114.08 25.77,114.08 25.77,191.51 45.21,191.51 45.21,151.9 59.85,174.04 72.52,174.04 
		87.26,151.88 87.26,191.51 106.59,191.51 106.59,114.08 92.5,114.08 	"
      />
      <path
        d="M233,139.69c-3.02-1.78-6.46-2.68-10.32-2.68c-4.22,0-7.99,0.86-11.3,2.57c-1.16,0.6-2.23,1.29-3.22,2.06v-3.54h-19v53.41
		h19v-30.14c0-1.67,0.33-3.09,0.98-4.26c0.65-1.16,1.58-2.07,2.78-2.73c1.2-0.66,2.57-0.98,4.1-0.98c2.26,0,4.11,0.71,5.57,2.13
		c1.46,1.42,2.18,3.37,2.18,5.84v30.14h19V157c0-3.79-0.87-7.17-2.62-10.16C238.41,143.86,236.02,141.47,233,139.69z"
      />
      <path
        d="M274.99,151.92c0.73-0.47,1.93-0.71,3.6-0.71c1.75,0,3.68,0.38,5.79,1.15c2.11,0.76,4.04,2.13,5.79,4.1l10.48-10.59
		c-2.55-3.13-5.9-5.48-10.05-7.04c-4.15-1.57-8.52-2.35-13.11-2.35c-4.51,0-8.45,0.75-11.79,2.24c-3.35,1.49-5.95,3.53-7.81,6.12
		c-1.86,2.59-2.78,5.59-2.78,9.01c0,3.28,0.6,5.97,1.8,8.08s2.78,3.75,4.75,4.91c1.97,1.17,4,2.09,6.12,2.78
		c2.11,0.69,4.13,1.28,6.06,1.75c1.93,0.47,3.49,1.02,4.7,1.64s1.8,1.51,1.8,2.67c0,0.8-0.42,1.42-1.26,1.86
		c-0.84,0.44-2.06,0.66-3.66,0.66c-2.77,0-5.37-0.51-7.81-1.53c-2.44-1.02-4.53-2.44-6.28-4.26l-10.38,10.59
		c1.89,1.96,4.2,3.7,6.94,5.19c2.73,1.49,5.68,2.68,8.85,3.55c3.17,0.87,6.39,1.31,9.67,1.31c6.84,0,12.3-1.55,16.38-4.64
		c4.08-3.09,6.12-7.3,6.12-12.61c0-3.35-0.6-6.08-1.8-8.19c-1.2-2.11-2.77-3.8-4.7-5.08c-1.93-1.27-3.93-2.28-6.01-3
		c-2.08-0.73-4.08-1.33-6.01-1.8c-1.93-0.47-3.5-1-4.7-1.58c-1.2-0.58-1.8-1.35-1.8-2.29C273.9,153.03,274.26,152.39,274.99,151.92z
		"
      />
      <polygon
        points="337.13,116.04 318.13,116.04 318.13,138.1 306.33,138.1 306.33,153.94 318.13,153.94 318.13,191.51 337.13,191.51 
		337.13,153.94 348.93,153.94 348.93,138.1 337.13,138.1 	"
      />
      <path
        d="M397.91,140.24c-4.19-2.29-8.97-3.44-14.36-3.44c-5.53,0-10.5,1.22-14.91,3.66c-4.41,2.44-7.88,5.75-10.43,9.94
		c-2.55,4.19-3.82,8.97-3.82,14.36c0,5.46,1.31,10.3,3.93,14.53c2.62,4.22,6.23,7.52,10.81,9.88c4.59,2.37,9.87,3.55,15.84,3.55
		c4.73,0,8.97-0.76,12.72-2.29c3.75-1.53,6.93-3.79,9.56-6.77l-9.94-9.94c-1.6,1.82-3.4,3.17-5.41,4.04c-2,0.87-4.31,1.31-6.94,1.31
		c-2.77,0-5.1-0.55-6.99-1.64c-1.89-1.09-3.35-2.71-4.37-4.86c-0.25-0.51-0.46-1.06-0.64-1.63l37.45-0.17
		c0.36-1.46,0.6-2.75,0.71-3.88c0.11-1.13,0.16-2.24,0.16-3.33c0-5.17-1.18-9.77-3.55-13.81
		C405.37,145.7,402.09,142.53,397.91,140.24z M377.54,152.19c1.75-1.16,3.82-1.75,6.22-1.75c2.33,0,4.26,0.51,5.79,1.53
		c1.53,1.02,2.69,2.5,3.5,4.42c0.26,0.63,0.47,1.35,0.66,2.1l-20.79,0.17c0.17-0.54,0.36-1.07,0.58-1.56
		C374.44,155,375.79,153.36,377.54,152.19z"
      />
      <path
        d="M454.31,137.01c-5.55,0-10.06,1.5-13.54,4.5v-3.41h-19v53.41h19v-29.05c0-2.91,0.69-5.11,2.08-6.61
		c1.38-1.49,3.31-2.24,5.79-2.24c1.31,0,2.49,0.2,3.55,0.6c1.05,0.4,1.87,0.93,2.46,1.58l11.03-14.74c-1.31-1.38-2.89-2.4-4.75-3.06
		C459.06,137.34,456.86,137.01,454.31,137.01z"
      />
      <path
        d="M516.94,122c-2.07-3.46-4.97-6.22-8.68-8.3c-3.71-2.08-7.97-3.11-12.78-3.11c-5.9,0-10.94,1.37-15.13,4.09
		c-4.19,2.73-7.37,6.17-9.56,10.32l11.68,11.36c1.38-2.26,3.13-4.15,5.24-5.68c2.11-1.53,4.41-2.29,6.88-2.29
		c1.46,0,2.71,0.26,3.77,0.77c1.05,0.51,1.89,1.25,2.51,2.24c0.62,0.98,0.93,2.17,0.93,3.55c0,1.31-0.31,2.48-0.93,3.5
		c-0.62,1.02-1.51,1.8-2.68,2.35c-1.17,0.54-2.51,0.82-4.04,0.82h-5.46l1.2,20.75h14.63l0.5-7.59c1.83-0.7,3.58-1.54,5.23-2.57
		c2.95-1.82,5.31-4.26,7.1-7.32c1.78-3.06,2.68-6.84,2.68-11.36C520.06,129.3,519.02,125.46,516.94,122z"
      />
      <path
        d="M497.23,170.65c-3.13,0-5.73,1.06-7.81,3.17c-2.08,2.11-3.11,4.73-3.11,7.86c0,3.13,1.04,5.75,3.11,7.86
		c2.07,2.11,4.68,3.17,7.81,3.17c3.13,0,5.71-1.06,7.75-3.17c2.04-2.11,3.06-4.73,3.06-7.86c0-3.13-1.02-5.75-3.06-7.86
		C502.95,171.71,500.36,170.65,497.23,170.65z"
      />
    </g>
  );

  const bottomOpenPathD = `M168.3,144.98c-5.06-5.06-12.05-8.19-19.77-8.19c-7.72,0-14.71,3.13-19.77,8.19c-5.06,5.06-8.19,12.05-8.19,19.77
	s3.13,14.71,8.19,19.77c5.06,5.06,12.05,8.19,19.77,8.19c7.72,0,14.71-3.13,19.77-8.19c5.06-5.06,8.19-12.05,8.19-19.77
	S173.36,150.04,168.3,144.98z M156.63,172.86c-2.07,2.07-4.94,3.36-8.1,3.36s-6.03-1.28-8.1-3.36c-2.07-2.07-3.36-4.94-3.36-8.1
	s1.28-6.03,3.36-8.1c2.07-2.07,4.94-3.36,8.1-3.36s6.03,1.28,8.1,3.36c2.07,2.07,3.36,4.94,3.36,8.1S158.7,170.78,156.63,172.86z`;
  const bottomOpen = <path className="bottomOpen origin-[27.5%_82.375%]" d={bottomOpenPathD} />;

  const bottomBlinkPathD = `M168.3,144.98c-5.06-5.06-12.05-8.19-19.77-8.19c-7.72,0-14.71,3.13-19.77,8.19c-5.06,5.06-8.19,12.05-8.19,19.77
	s3.13,14.71,8.19,19.77c5.06,5.06,12.05,8.19,19.77,8.19c7.72,0,14.71-3.13,19.77-8.19c5.06-5.06,8.19-12.05,8.19-19.77
	S173.36,150.04,168.3,144.98z M156.63,165.86c-4.16,0.52-4.94,0.36-8.1,0.36s-4.31,0.21-8.1-0.36c-2.9-0.43-3.36-1.1-3.36-1.1
	s0.46,1.34,3.36,0.9c3.64-0.55,4.94-0.36,8.1-0.36s4.1-0.18,8.1,0.36c2.91,0.39,3.36-0.9,3.36-0.9S159.54,165.49,156.63,165.86z`;

  const bottomLookPathD = `M168.3,144.98c-5.06-5.06-12.05-8.19-19.77-8.19c-7.72,0-14.71,3.13-19.77,8.19c-5.06,5.06-8.19,12.05-8.19,19.77
	s3.13,14.71,8.19,19.77c5.06,5.06,12.05,8.19,19.77,8.19c7.72,0,14.71-3.13,19.77-8.19c5.06-5.06,8.19-12.05,8.19-19.77
	S173.36,150.04,168.3,144.98z M156.63,184.31c-2.07,2.07-4.94,3.36-8.1,3.36s-6.03-1.28-8.1-3.36c-2.07-2.07-3.36-4.94-3.36-8.1
	s1.28-6.03,3.36-8.1c2.07-2.07,4.94-3.36,8.1-3.36s6.03,1.28,8.1,3.36c2.07,2.07,3.36,4.94,3.36,8.1S158.7,182.24,156.63,184.31z`;

  const topOpenPathD = `M352.2,38.23c-5.06-5.06-12.05-8.19-19.77-8.19c-7.72,0-14.71,3.13-19.77,8.19c-5.06,5.06-8.19,12.05-8.19,19.77
	s3.13,14.71,8.19,19.77c5.06,5.06,12.05,8.19,19.77,8.19c7.72,0,14.71-3.13,19.77-8.19c5.06-5.06,8.19-12.05,8.19-19.77
	S357.26,43.29,352.2,38.23z M340.54,66.1c-2.07,2.07-4.94,3.36-8.1,3.36s-6.03-1.28-8.1-3.36c-2.07-2.07-3.36-4.94-3.36-8.1
	s1.28-6.03,3.36-8.1c2.07-2.07,4.94-3.36,8.1-3.36s6.03,1.28,8.1,3.36c2.07,2.07,3.36,4.94,3.36,8.1S342.61,64.03,340.54,66.1z`;
  const topOpen = <path className="topOpen" d={topOpenPathD} />;

  const topBlinkPathD = `M352.2,38.23c-5.06-5.06-12.05-8.19-19.77-8.19c-7.72,0-14.71,3.13-19.77,8.19c-5.06,5.06-8.19,12.05-8.19,19.77
	s3.13,14.71,8.19,19.77c5.06,5.06,12.05,8.19,19.77,8.19c7.72,0,14.71-3.13,19.77-8.19c5.06-5.06,8.19-12.05,8.19-19.77
	S357.26,43.29,352.2,38.23z M340.54,59.1c-4.16,0.52-4.94,0.36-8.1,0.36s-4.31,0.21-8.1-0.36c-2.9-0.43-3.36-1.1-3.36-1.1
	s0.46,1.34,3.36,0.9c3.64-0.55,4.94-0.36,8.1-0.36s4.1-0.18,8.1,0.36c2.91,0.39,3.36-0.9,3.36-0.9S343.45,58.74,340.54,59.1z`;

  useEffect(() => {
    const timeline = anime.timeline({
      loop: true,
      easing: 'easeOutExpo'
    });

    const timeline2 = anime.timeline({
      loop: true,
      easing: 'easeOutExpo'
    });

    timeline2.add({
      targets: '.topOpen',
      direction: 'alternate',
      duration: 500,
      d: [
        {
          value: topBlinkPathD
        },
        {
          value: topOpenPathD
        },
        {
          value: topBlinkPathD
        },
        {
          value: topOpenPathD
        }
      ],
      delay: 900
    });

    timeline2.add(
      {
        targets: '.topOpen',
        direction: 'alternate',
        duration: 600,
        d: [
          {
            value: topBlinkPathD
          },
          {
            value: topOpenPathD
          }
        ]
      },
      9000
    );

    timeline.add({
      targets: '.bottomOpen',
      direction: 'alternate',
      duration: 500,
      d: [
        {
          value: bottomBlinkPathD
        },
        {
          value: bottomOpenPathD
        }
      ],
      delay: 3200
    });

    timeline.add(
      {
        targets: '.bottomOpen',
        duration: 5200,
        d: [
          {
            value: bottomLookPathD,
            duration: 200
          },
          {
            value: bottomLookPathD,
            duration: 3000
          },
          {
            value: bottomOpenPathD,
            duration: 1400
          },
          {
            value: bottomBlinkPathD,
            duration: 125
          },
          {
            value: bottomOpenPathD,
            duration: 125
          },
          {
            value: bottomBlinkPathD,
            duration: 125
          },
          {
            value: bottomOpenPathD,
            duration: 125
          }
        ],
        rotate: [
          { value: -75, duration: 50 },
          { value: -75, duration: 600 },
          { value: -35, duration: 800 },
          { value: 50, duration: 1000 },
          { value: 0, delay: 1200 }
        ]
      },
      '+=9000'
    );
  }, [bottomBlinkPathD, bottomLookPathD, bottomOpenPathD, topBlinkPathD, topOpenPathD]);

  return (
    <>
      <div className={`${className} relative`}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height={height}
          width={width}
          fill={color}
          className={`absolute`}>
          {headerText}
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height={height}
          width={width}
          fill={color}
          className={`absolute`}>
          {topOpen}
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height={height}
          width={width}
          fill={color}
          className={`absolute`}>
          {bottomOpen}
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height={height}
          width={width}
          fill={color}
          className={`absolute`}>
          {bottomOpen}
        </svg>
      </div>
    </>
  );
};

export default Tail;
